# 提前批抖音部门
## 1面（7月13日）
- 进程和线程的区别
- 协程的概念
- 多线程的网页项目中，处理一个请求有哪些逻辑
- 在处理上万并发的时候，每个请求大概有多少个毫秒
- 同一时刻有多少个工作线程在运行
- 线程池是如何工作的
- 各个逻辑中的线程是如何通讯的
- 进程间的通讯方式
- TCP、UDP的区别
- TCP如何保证可靠传输的
- TCP三次握手、四次挥手的过程
- 为什么time_wait需要等待2个msl的时间
- linux进程的虚拟地址空间有哪些段
- 虚拟地址转成物理地址
- copy-on-write机制
- 算法题
   - 手写快排
   - 判断是否为平衡二叉树
   - 判断是否为正确的出栈序列
- 是否有看过开发相关的论文
- 你所指的了解linux内核，能大概介绍下吗
- 互斥锁和自旋锁的区别，在什么场合下使用互斥锁、自旋锁

## 2面（7月17日）
- 为什么不做算法，选择做后端开发
- 一定要求做C++吗
- 实习过程中最大的收获是什么
- 三次握手过程中，第三次握手的包丢了会怎样
- 客户端第三次握手的确认报文发送给服务端了，此时进入了establish状态，如果此时服务端没有收到客户端发送过来的确认报文，会怎么样
- 三次握手成功后，会发生什么
- 如何判断是父进程还是子进程
- 子进程继承了父进程哪些资源
- 子进程如何不共享父进程的文件描述符？知道单例进程吗？如何确保该进程系统只能创建一个？
- 算法题，二维数组查找某个target，leetcode 240；如果该题做过，要假装没做过，思考一段时间
- 实现某个微信小功能：某个公众号上的文章，显示有多少个好友已读过？
- 朋友圈刷新功能如何实现？
- 问面试官的问题
   - 感觉一面和二面差别很大，一面是基础知识考查，二面侧重实践的考查
   - 实践考查方面，如何提升
      - 养成一种思考的习惯，在使用某个软件的某个功能时，要思考一下该功能是怎么实现的

## 反思
- 二面基础知识点的回答也不好，很多知识点其实是能解答出来的，但是面试过程中语言组织有问题，而且没思考清楚就作答，导致回答到一半就卡住了
- 实践知识的考察太欠缺了
- 算法题不管怎么样，都得假装思考一下，再作答，不要让面试官感觉这题你肯定是做过，不然思考时间怎么这么短

# 题解思路
## 实现某个微信小功能：某个公众号上的文章，显示有多少个好友已读过？
### 目前思路，时间复杂度O(N)，空间复杂度O(N * M * K)。N为好友个数，M为好友关注的公众号数目，K为某个公众号已读文章数目
- 1.设置一个好友列表，hash表
- 2.设置一个好友关注的公众号列表，hash表
- 3.在公众号列表下，每个公众号都设置一个已读文章列表，set表

### 具体实现过程
- 首先遍历好友列表，根据hash\[好友]，找到好友关注的公众号列表，当前时间复杂度为O(N)
- 在好友的公众号列表中根据hash\[公众号]查找该文章对应的公众号（hash查找，时复为O(1)），如果查找为空，说明该好友没有关注过该公众号，也因此肯定没有读过该文章，此时结束查找；否则进行下一步
- 在查找到的好友的公众号下的set已读文章集合中进行文章查找hash\[文章]（hash查找，时复为O(1)），查看是否存在该文章，如果存在则已读数+1，否则返回第一步，遍历下一位好友


## 2面（7月28日，被捞起来了）
- 本科在哪里就读，本科是技术类的吗？
- 介绍一下I/O多路复用，以及其他机制的对比
- epoll底层在拿到了fd后，epoll返回的时候如何确保fd是属于哪个进程的
- epoll底层是用什么数据结构来存储fd的
- epoll底层是怎么用到这个红黑树的
- 为什么要用红黑树来存储，红黑树有哪些特点
- 红黑树插入删除最坏的时间复杂度
- 介绍epoll的水平触发和边缘触发
- 为什么有水平触发和边缘触发这两种设计
- 系统的介绍一下局部性原理，以及计算机中有哪些地方运用了局部性原理
   - 内存页面的调度
   - 缓存：比如高速缓存，页面缓存等
   - https的server push
   - 面试官提到了cdn、动态加速、静态加速、就近接入等概念
   - 谈到缓存，问到了路由器缓存哪些内容
   - 操作系统缓存

- 查看程序的输出结果，并且对比有什么区别（涉及的知识点：write与printf的区别，行缓冲、块缓冲）  
程序1：
```CPP
#include<stdio.h>
#include<unistd.h>

int main(){
    for(int i = 0;i < 2;++i){
        fork();
        write(1,"-",1);
    }
    wait(NULL);
    wait(NULL);
    return 0;
}
```
输出结果：6个连续的‘-’  

程序2：
```CPP
#include<stdio.h>
#include<unistd.h>

int main(){
    for(int i = 0;i < 2;++i){
        fork();
        printf('-');
    }
    wait(NULL);
    wait(NULL);
    return 0;
}
```
输出结果：8个连续的‘-’

相关知识点：
   [fork对行缓冲区的影响](https://www.veaxen.com/fork%E5%AF%B9%E8%A1%8C%E7%BC%93%E5%86%B2%E5%8C%BA%E7%9A%84%E5%BD%B1%E5%93%8D.html)
   [unix 全缓冲、行缓冲、无缓冲](https://www.cnblogs.com/youxin/p/4304998.html)    
   
   

- python中的字典和C++中map的区别
- hash表与红黑树的区别
- C++中给vector一直push_back元素，push_back n个元素的操作时间复杂度是多少，要用具体的公式推导
```CPP
假设 n <= 2^k;
O(N) = 2^1 + 2^2 + 2^3 + ... + 2^(K - 1) + (最后一次操作，此时容量已经为2^k，只需要再加入:n - 2^(K - 1))
     = 2^1 + 2^2 + 2^3 + ... + 2^(K - 1) + n - 2^(K - 1)
     = n + 2^1 + 2^2 + ... + 2^(K - 2)
     = n + 2^(K - 1)
```

- 算法题：找到两个链表的交点，如果不存在，返回空节点
- 写代码的时候，想想什么叫程序的健壮性，程序的健壮性到底要包含哪些方面
- 程序崩了可能会有哪些方面
   - 代码语法的问题
   - 内存的访问、文件的访问是否会存在问题
   - 程序内出现异常的应对方法

## 字节3面
- 视频关注点项目介绍
   - 面试官指出一定要用OCR吗？因为视频是有单独的音频可以抽取出来的
   - 人工标签的来源？
   - 预训练模型是从哪里来的，预训练数据集大小
   - 预训练模型的输入输出是什么，为什么可以应用在这个项目上
      - 预训练模型的通用性
   - 项目的评价指标
   - 衡量精准率和召回率的ground truth是怎么生成的，人工打标签的吗
   - ground truth的数据量有多大
- 简单介绍一下C++中string的实现方式
- 有没有对string a = b做一些优化，比如频繁的创建及析构
   - 引用计数，写时复制计数，增加复制的效率。
- C++11了解哪些新特性
- 有哪些智能指针
- share_ptr与unique_ptr
- unique_ptr有哪些应用场景
   - 在一个局部作用域内，使用unique_ptr来管理动态创建的资源，防止中间异常退出后造成内存泄露
   - 由于unique_ptr可以转换成share_ptr，因此在未来使用过程中所有权不确定的情况下，很多工厂函数返回unique_ptr，等到如果需要共享所有权的话，再将unique_ptr转换成share_ptr
- vector的实现方式
- push_back会对数组中的哪些元素产生影响
   - 至少会对vec.end()产生影响！
- 有没有数据结构支持双向增长的
- 假设vector是2倍扩展，假设capacity初始值为0，不断的push_backn个元素，会经历多少次内存分配
   - log(n)
- 给出一个数组序列，求出子序列和大于n的最短子序列
   - 双指针，都从左边开始遍历
